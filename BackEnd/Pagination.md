# 페이징이란?
페이징(Pagination)은 대량의 데이터를 여러 페이지로 나누어 필요한 부분만 조회하는 기법입니다.

예를 들어 게시판에서 한 페이지에 10개의 글을 보여주는 것처럼, 한 번에 모든 데이터를 가져오지 않고 필요한 범위만 읽어오는 방식입니다.

페이징은 사용자 경험과 서버 성능 모두에 큰 영향을 미칩니다.

## 페이징 방식
### LIMIT/OFFSET 기반 페이징
많은 RDBMS(MySQL, PostgreSQL 등)에서 가장 흔하게 쓰는 방식으로 LIMIT와 OFFSET이 있습니다.

    SELECT * 
    FROM reservation
    ORDER BY created_at DESC
    LIMIT 10 OFFSET 20;
    // LIMIT : 한 번에 가져올 데이터 수
    // OFFSET : 앞에서 N개를 건너뛰고 이후부터 가져옴
장점
- 구현이 간단하고 직관적입니다.
- 페이지 번호 기반 UI와 연동이 쉽습니다.

단점
- OFFSET이 커질수록 성능이 급격히 나빠집니다.

<br>DB는 OFFSET에 해당하는 데이터를 "무시"하는 것이 아니라, 읽어서 버리는 작업을 합니다.

결국 페이지가 뒤로 갈수록 전체 조회와 다름없는 작업을 반복하게 됩니다.

### 커서 기반 페이지네이션(Cursor Pagination)
위와 같은 성능 문제를 해결하기 위해 커서 기반 페이지네이션(Keyset Pagination)을 많이 사용합니다.

이 방식은 OFFSET으로 몇개를 건너뛸지가 아닌, 어디서부터 가져올지를 명확하게 지정합니다.

    SELECT * 
    FROM reservation
    WHERE created_at < '2025-08-11 21:00:00'
    ORDER BY created_at DESC
    LIMIT 10;
created_at < ? 조건으로 이전 페이지의 마지막 데이터 이후부터 가져옵니다.
<br>OFFSET이 없어도 바로 필요한 데이터만 조회가 가능합니다.

장점
- 페이지가 뒤로 가도 성능이 거의 일정합니다.
- 실시간 데이터 변경에도 안전합니다. (중간 데이터 삭제/추가 시에도 안정적으로 동작)

단점
- 페이지 번호 기반 UI 구현이 어려움
- 특정 페이지로 점프하려면 별도 로직 필요

### 하이브리드 방식
핵심은 OFFSET을 쓰되, WHERE 조건을 추가해서 불필요한 데이터 스캔을 줄이는 방식입니다.

    SELECT *
    FROM reservation
    WHERE id >= 10001
    ORDER BY id
    LIMIT 10;
장점
- 기존 OFFSET 방식처럼 특정 페이지로 바로 이동아 가능하다.
- OFFSET을 줄여서 불필요한 데이터 스캔을 최소하한다.
- 이후 페이지 탐색 속도가 일정하게 유지된다.

단점
- 쿼리가 2번 실행된다.
<br>(시작 ID를 구하는 쿼리 + 실제 데이터 가져오는 쿼리)
- 페이지를 보고 있는 중간에 데이터가 추가/삭제되면 결과가 변동될 수 있다.

## 결론
- 단순 구현 : LIMIT + OFFSET
- 성능 최적화 필요 : 커서 기반 페이지네이션
- 페이지 번호 유지 + 성능 : 하이브리드 방식